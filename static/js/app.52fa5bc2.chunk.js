(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{113:function(e,t,n){n(114),e.exports=n(168)},114:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/hokminglee0803/ocrDemo/expo-service-worker.js",{scope:"/hokminglee0803/ocrDemo/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},84:function(e,t,n){"use strict";var a=n(2),r=n.n(a),s=n(6),i=n.n(s),o=n(13),c=n.n(o),l=n(20),u=n.n(l),m=n(21),p=n.n(m),f=n(11),g=n.n(f),d=n(85),h=n(1),v=n.n(h),y=n(37),k=n(8),w=n(53),P=n(105),x=n(61),E=n(86),C=n.n(E),b=n(60),A=n(15);function R(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=g()(e);if(t){var r=g()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return p()(this,n)}}var S=function(e){u()(n,e);var t=R(n);function n(e){var a;return i()(this,n),(a=t.call(this,e)).ocr_api_endpoint="https://ocr-ypkwsijlva-de.a.run.app/ocr",a.getCameraRollPermissionAsync=function(){var e;return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!x.a.platform.ios){t.next=6;break}return t.next=3,r.a.awrap(Permissions.askAsync(Permissions.CAMERA_ROLL));case 3:e=t.sent,"granted"!==e.status&&alert("Sorry, we need camera roll permissions to make this work!");case 6:case"end":return t.stop()}}),null,null,null,Promise)},a.getCameraPermissionAsync=function(){var e;return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!x.a.platform.ios){t.next=6;break}return t.next=3,r.a.awrap(Permissions.askAsync(Permissions.CAMERA));case 3:e=t.sent,"granted"!==e.status&&alert("Sorry, we need camera roll permissions to make this work!");case 6:case"end":return t.stop()}}),null,null,null,Promise)},a.handleSubmitFile=function(){var e;return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:null!==a.state.image&&(a.setState({loading:!0}),e=document.getElementById("id"),fetch(e.src).then((function(e){return e.blob()})).then((function(e){var t=new File([e],"dot.png",e);console.log(t);var n=new FormData;n.append("file",t),C.a.post(a.ocr_api_endpoint,n,{headers:{"Content-type":"multipart/form-data"}}).then((function(e){a.setState({result:e.data,loading:!1})})).catch((function(e){a.setState({result:e,loading:!1})}))})));case 1:case"end":return t.stop()}}),null,null,null,Promise)},a.pickImage=function(){var e;return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.a.awrap(b.b({mediaTypes:A.a.Images,allowsEditing:!0,aspect:[4,3],quality:1}));case 3:(e=t.sent).cancelled||a.setState({image:e}),console.log(e),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),null,null,[[0,8]],Promise)},a.pickImageFromCamera=function(){var e;return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.a.awrap(b.a({mediaTypes:A.a.Images,allowsEditing:!0,base64:!0,aspect:[4,3],quality:1}));case 3:(e=t.sent).cancelled||a.setState({image:e}),console.log(e),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),null,null,[[0,8]],Promise)},a.state={imageFile:null,result:"",image:null,loading:!1},a}return c()(n,[{key:"componentDidMount",value:function(){this.getCameraRollPermissionAsync(),this.getCameraPermissionAsync()}},{key:"render",value:function(){var e=this,t=this.state,n=t.image,a=t.result,r=t.loading;return v.a.createElement(k.a,{style:{flex:1,alignItems:"center",justifyContent:"center"}},v.a.createElement(y.a,null,"OCR Demo Application"),v.a.createElement(d.StatusBar,{style:"auto"}),v.a.createElement(w.a,{title:"Pick an image from Camera roll",onPress:this.pickImage}),v.a.createElement(w.a,{title:"Pick an image from Camera",onPress:this.pickImageFromCamera}),n&&v.a.createElement(v.a.Fragment,null,v.a.createElement(w.a,{title:"Convert",onPress:function(){return e.handleSubmitFile()}}),v.a.createElement("img",{id:"id",src:n.uri,style:{width:200,height:200}})),v.a.createElement(P.a,{animating:r}),v.a.createElement(k.a,null,""!==a?v.a.createElement(y.a,null," ",a):null))}}]),n}(v.a.Component);t.a=S}},[[113,1,2]]]);
//# sourceMappingURL=app.52fa5bc2.chunk.js.map